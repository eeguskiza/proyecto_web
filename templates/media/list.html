{% extends 'index.html' %}
{% load static %}
{% block title %}Star Wars - Películas{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/media.css' %}">
{% endblock %}

{% block content %}
<h2>Saga en línea temporal</h2>

{% if films %}
<section class="media-section">
    <div class="timeline-scroll">
        {% for film in films %}
        <article class="timeline-card">
            <div class="timeline-marker">
                <span class="timeline-year">
                    {{ film.release_year|default:"Fecha desconocida" }}
                </span>
                {% if film.episode %}
                    <span class="timeline-episode">Episodio {{ film.episode }}</span>
                {% endif %}
            </div>

            <div class="poster-frame">
                <img src="{% static film.poster_static %}" alt="Póster de {{ film.title }}">
            </div>

            <div class="timeline-body">
                <h4><a href="{% url 'media_detail' film.id %}">{{ film.title }}</a></h4>
                <p><strong>Director:</strong> {{ film.director }}</p>
                <p><strong>Productor:</strong> {{ film.producer }}</p>
                <p><strong>Estreno:</strong> {{ film.release_date|date:"d/m/Y" }}</p>
                <details>
                    <summary>Ver datos extra</summary>
                    <p><strong>Planetas:</strong> {{ film.planets|join:", " }}</p>
                    <p><strong>Personajes:</strong> {{ film.characters|join:", " }}</p>
                    <p><strong>Naves:</strong> {{ film.starships|join:", " }}</p>
                    <p><strong>Vehículos:</strong> {{ film.vehicles|join:", " }}</p>
                    <p><strong>Especies:</strong> {{ film.species|join:", " }}</p>
                </details>
                <a class="ghost-link" href="{% url 'media_detail' film.id %}">Ver ficha completa →</a>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% else %}
<p>No hay películas disponibles en este momento.</p>
{% endif %}
{% endblock %}
