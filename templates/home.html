{% extends "index.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Inicio – Star Wars Site" %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/chatbot.css' %}">
{% endblock %}

{% block content %}

<!-- ============================= -->
<!-- SECCIÓN DE INTRODUCCIÓN -->
<!-- ============================= -->
<section class="intro">
  <p>
    {% blocktrans %}Bienvenido a <strong>Star Wars Site</strong>, una aplicación web desarrollada con la intención de explorar el universo de Star Wars de forma interactiva y visual.{% endblocktrans %}
  </p>
  <p>
    {% blocktrans %}Aquí podrás conocer a los personajes más emblemáticos de la saga, descubrir las especies que habitan en la galaxia, los planetas donde viven y las producciones en las que aparecen.{% endblocktrans %}
  </p>
  <p>
    {% blocktrans %}Nuestros datos estan organizados y relacionados los datos entre personajes, especies, planetas y películas para mostrar cómo una base de datos bien estructurada puede transformar la información en conocimiento útil.{% endblocktrans %}
  </p>
</section>

<!-- ============================= -->
<!-- SECCIÓN DE DATOS GALÁCTICOS -->
<!-- ============================= -->
<section class="stats">
  <h2>{% trans "Datos galácticos" %}</h2>
  <p>{% trans "Nuestra base de datos actualmente incluye:" %}</p>
  <ul class="stats-list">
    <li><strong>{{ stats.personajes }}</strong> {% trans "Personajes registrados" %}</li>
    <li><strong>{{ stats.especies }}</strong> {% trans "Especies conocidas" %}</li>
    <li><strong>{{ stats.peliculas }}</strong> {% trans "Películas recopiladas" %}</li>
  </ul>
</section>

<!-- ============================= -->
<!-- SECCIÓN DE PERSONAJES DESTACADOS -->
<!-- ============================= -->
<section class="featured">
  <h2>{% trans "Personajes destacados por especie y por altura" %}</h2>
  <p>{% trans "Explora un personaje representativo de cada especie conocida de la galaxia. Aqui veras quien es el personaje mas alto de cada especie." %}</p>

  <div class="grid">
    {% for c in featured_characters %}
      {% if c.image_url %}
      <div class="card">
        <img src="{{ c.image_url }}" alt="{{ c.name }}">
        <h3>{{ c.name }}</h3>
        <p><strong>{% trans "Especie" %}:</strong> <a href="{% url 'species_detail' c.species.id %}">{{ c.species.name }}</a></p>
        <small>{{ c.height_m }} m</small>
      </div>
      {% endif %}
    {% empty %}
      <p>{% trans "No hay personajes disponibles." %}</p>
    {% endfor %}
  </div>
</section>

<!-- ============================= -->
<!-- CHATBOT EXPLORADOR -->
<!-- ============================= -->
<section class="chatbot" data-endpoint="{% url 'chatbot_search' %}">
  <div class="chat-hero">
    <h2>Explora personajes con el asistente</h2>
    <p>Pregunta por un personaje o especie y te muestro lo que sabemos.</p>
  </div>
  <div class="chat-log"></div>
  <form class="chat-input">
    <input type="search" name="q" placeholder="Ej: Quién es el maestro pequeño y verde..." autocomplete="off">
    <button type="submit">Preguntar</button>
  </form>
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/chatbot.js' %}"></script>
{% endblock %}
